/* --- WRAPPER PAGINA (SFONDO STELLATO) --- */
.home-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    color: #f0f0f0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    
    /* Centratura */
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-y: auto;    /* Scorri in verticale se serve */
    overflow-x: hidden;
    z-index: 1;
}

/* --- IL CONTENITORE BUCO NERO --- */
.home-container {
    /* Gradiente Buco Nero */
    background: radial-gradient(circle, #000000 40%, rgba(143, 64, 159) 100%);
    
    /* Dimensioni cerchio perfetto */
    width: min(90vw, 450px);
    height: min(90vw, 450px);
    border-radius: 50%;
    
    /* Ombra Luminosa */
    box-shadow: 
        0 0 60px rgba(166, 0, 255, 0.7),
        0 0 120px rgba(143, 64, 159, 0.5);
    border: 2px solid #555;
    
    display: flex;
    flex-direction: column;
    align-items: center;
    /* justify-content: center; <--- Tolto per gestire spazi manualmente */
    padding: 2rem;
    box-sizing: border-box;
    position: relative;
}

/* --- TITOLI E TESTI --- */
.registration-container h1 {
    font-size: clamp(1.8rem, 6vw, 2.5rem); 
    line-height: 1.1;
    text-align: center;
    margin-top: 15%; 
    margin-bottom: auto; 
    background: -webkit-linear-gradient(45deg, #ffffff, #d946ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0px 2px 4px rgba(0,0,0,0.5));
}
.home-container h2 {
    font-size: 2rem;
    white-space: nowrap; /* Tutto su una riga */
    
    /* MODIFICA QUI: Aumento il margine per spingerlo giù */
    margin-top: 25%;     /* Prima era 10%, ora è molto più in basso */
    background: -webkit-linear-gradient(45deg, #ffffff, #d946ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0px 2px 4px rgba(0,0,0,0.5));
}

.home-container h3 {
    text-align: center;
    font-size: clamp(1.5rem, 5vw, 2.2rem);
    margin-top: 10%; /* Spazio dall'alto */
    margin-bottom: 0.5rem;
    color: #ffffff;
    background: -webkit-linear-gradient(45deg, #ffffff, #d946ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0px 2px 4px rgba(0,0,0,0.5));
}

.home-container p {
    color: #ccc;
    font-size: 0.9rem;
    margin-bottom: auto; /* Spinge il contenuto sotto verso il basso */
    text-align: center;
}

/* 1. Stile base del placeholder (quando non cliccato) */
.home-container input::placeholder {
    color: #666;
    font-style: italic;
    opacity: 1; /* Necessario per la transizione */
    transition: opacity 0.2s ease; /* Scompare delicatamente */
}

/* 2. QUANDO CLICCHI (FOCUS) -> IL PLACEHOLDER SPARISCE */
.home-container input:focus::placeholder {
    color: transparent;
    opacity: 0;
}

/* --- MENU PRINCIPALE (Bottoni grandi) --- */
.home-container.main-menu .lobby-options {
    margin-top: auto;
    margin-bottom: 20%;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
}

/* =========================================
   MODIFICA PER "CREA PARTITA" (CERCHIO GIGANTE)
   ========================================= */

.home-container.giant-circle {
    /* 1. FORZIAMO DIMENSIONI ENORMI */
    width: min(95vw, 650px) !important; 
    height: min(95vw, 650px) !important;
    
    /* 2. CERCHIO PERFETTO */
    aspect-ratio: 1 / 1; 
    border-radius: 50%;
    
    /* 3. FIX COLORE SFONDO (Il problema era qui) */
    /* Spingiamo il nero (#000000) fino al 60% per riempire il centro gigante */
    background: radial-gradient(circle, #000000 40%, rgba(143, 64, 159) 100%);
    
    /* Ombra Luminosa */
    box-shadow: 
        0 0 60px rgba(166, 0, 255, 0.7),
        0 0 120px rgba(143, 64, 159, 0.5);
    border: 2px solid #555;
    
    display: flex;
    flex-direction: column;
    align-items: center;
    /* justify-content: center; <--- Tolto per gestire spazi manualmente */
    padding: 2rem;
    box-sizing: border-box;
    position: relative;
    gap: 1.5rem;
}

/* Quando è gigante, il form deve occupare più spazio verticale */
.home-container.giant-circle form {
    height: 80%; 
    margin-bottom: 5%;
    gap: 1rem; 
    width: 100%; /* Assicura che usi larghezza piena */
}

/* Gestione scroll e layout */
.form-group.scrollable-group {
    overflow-y: visible;
    max-height: none;
    gap: 1rem; 
    width: 70%; /* Mantiene gli input centrati e non troppo larghi */
    margin: 0 auto; /* Centra il blocco orizzontalmente */
}

/* --- FORM (Unisciti) --- */
.home-container form {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: auto;
    margin-bottom: 15%;
    height: 65%; /* Occupa buona parte del cerchio */
    justify-content: space-between; /* Distribuisce input e bottoni */
}

/* Gruppo Input */
.form-group {
    width: 80%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}


.form-group label {
    font-size: 0.7rem;
    color: #d946ff; /* Viola neon */
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 1px;
    margin-top: 5px;
}

/* --- INPUT E SELECT --- */
.home-container input[type="text"],
.home-container select {
    width: 80%;
    padding: 12px;
    font-size: 1rem;
    border: 1px solid #555;
    border-radius: 30px; 
    background-color: #2a2a2a;
    color: #f0f0f0;
    text-align: center; /* Testo centrato per tutti */
    transition: width 0.3s, box-shadow 0.3s, border-color 0.3s;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
}

/* 2. STILE SOLO PER SELECT (Giocatori e Rounds) - QUI METTIAMO LA FRECCIA */
.home-container select {
    /* Rimuoviamo la freccia brutta di sistema */
    appearance: none; 
    -webkit-appearance: none;
    -moz-appearance: none;
    
    /* FRECCETTA VIOLA NEON (Solo qui!) */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23d946ff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    
    background-repeat: no-repeat;
    background-position: right 15px center; /* La posizioniamo a destra */
    background-size: 16px; 
    
    /* Padding asimmetrico per fare spazio alla freccia a destra */
    padding-left: 15px; 
    padding-right: 40px; 
    
    text-align-last: center; /* Forza centratura testo su mobile */
    cursor: pointer;
}

/* 4. FOCUS (Quando clicchi) */
.home-container input[type="text"]:focus,
.home-container select:focus {
    outline: none;
    border-color: #d946ff;
    width: 110%; 
    box-shadow: 0 0 15px rgba(217, 70, 255, 0.6);
    background-color: #1f1f1f;
}

/* 5. PLACEHOLDER CHE SCOMPARE AL CLICK */
.home-container input::placeholder {
    color: #666;
    font-style: italic;
    opacity: 1;
    transition: opacity 0.2s ease;
}

.home-container input:focus::placeholder {
    color: transparent;
    opacity: 0;
}

/* 6. OPZIONI DEL MENU */
.home-container select option {
    background-color: #1a1a1a;
    color: white;
    text-align: center;
}

/* --- TITOLI DEI BLOCCHI INFERIORI --- */

/* Titolo "Giocatori (x/y)" */
.sidebar-title {
  font-size: 1.1rem;
  margin: 0 0 1rem 0; /* Spazio sotto il titolo */
  color: #ffffff;
  
  /* CENTRATURA */
  text-align: center; 
  width: 100%;
  
  /* Stile extra opzionale per renderlo più carino */
  font-weight: bold;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* Titolo "Chat" */
.chat-title {
  font-size: 1.1rem;
  margin: 0 0 1rem 0; /* Spazio sotto il titolo */
  color: #ffffff;
  
  /* CENTRATURA */
  text-align: center;
  width: 100%;
  
  /* Stile extra */
  font-weight: bold;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* --- BOTTONI (Conferma / Annulla) --- */
.form-button-group {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin-top: 10px;
}

.btn {
    padding: 12px 30px;
    font-size: 1rem;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    width: auto;
    min-width: 140px;
    transition: transform 0.1s;
}

/* Primario (Viola) */
.btn-primary {
    background-color: #a600ff;
    color: white;
    box-shadow: 0 0 10px rgba(166, 0, 255, 0.4);
}
.btn-primary:hover {
    background-color: #d249ff;
    box-shadow: 0 0 20px rgba(166, 0, 255, 0.6);
}

/* Secondario (Trasparente/Grigio) */
.btn-secondary {
    background-color: transparent;
    border: 1px solid #666;
    color: #ccc;
    padding: 8px 20px; /* Più piccolo */
    font-size: 0.9rem;
}
.btn-secondary:hover {
    border-color: #fff;
    color: #fff;
    background-color: rgba(255,255,255,0.1);
}

.btn:active {
    transform: scale(0.95);
}

/* --- ERRORE --- */
.form-error-message {
    color: #ff6b6b;
    font-size: 0.8rem;
    text-align: center;
    margin-top: 5px;
    text-shadow: 0 1px 2px black;
}

/* =========================================
   MENU A TENDINA PERSONALIZZATO (Custom Select)
   ========================================= */

/* Il contenitore che tiene tutto fermo */
.custom-select-wrapper {
    position: relative; /* Fondamentale per posizionare la lista sotto */
    width: 100%;
}

/* Il "bottone" che sembra un input (quello che clicchi per aprire) */
.select-trigger {
    width: 100%;
    padding: 12px;
    font-size: 1rem;
    border: 1px solid #555;
    border-radius: 30px;
    background-color: #2a2a2a;
    color: #f0f0f0;
    text-align: center;
    cursor: pointer;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
    transition: all 0.3s;
    
    /* Freccetta Viola (disegnata con CSS) */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23d946ff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 16px;
}

/* Effetto quando il menu è aperto */
.select-trigger.open {
    border-color: #d946ff;
    border-bottom-left-radius: 0; /* Squadra gli angoli sotto */
    border-bottom-right-radius: 0;
    box-shadow: 0 0 15px rgba(217, 70, 255, 0.4);
}

/* LA LISTA SCROLLABILE (Quella che volevi!) */
.options-list {
    position: absolute; /* Galleggia sopra il resto */
    top: 70%; /* Si attacca esattamente sotto il trigger */
    left: 0;
    width: 100%;
    
    /* QUI C'È LA MAGIA DEL "4 ELEMENTI" */
    max-height: 155px; /* Altezza fissa per farcene stare circa 4 */
    overflow-y: auto;  /* Scroll se ce ne sono di più */
    
    background-color: #1f1f1f;
    border: 1px solid #d946ff;
    border-top: none; /* Unisce visivamente al trigger */
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    z-index: 50; /* Assicura che stia sopra i bottoni sotto */
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
}

/* La singola opzione nella lista */
.option-item {
    padding: 3px;
    text-align: center;
    cursor: pointer;
    border-bottom: 1px solid #333;
    color: #ccc;
    transition: background 0.2s;
}

.option-item:last-child {
    border-bottom: none;
}

.option-item:hover {
    background-color: #333;
    color: white;
}

.option-item.selected {
    background-color: rgba(217, 70, 255, 0.2);
    color: #d946ff;
    font-weight: bold;
}

/* =========================================
   MEDIA QUERY PER CELLULARE (Definitiva)
   ========================================= */
@media (max-width: 600px) {
    .home-container {
        padding: 1.5rem;
    }
    
    /* --- IL TRUCCO: CERCHIO ENORME CHE ESCE --- */
    .home-container.giant-circle {
        /* DIMENSIONI > 100% DELLO SCHERMO */
        width: 140vw !important;  /* Esce abbondantemente dai lati */
        height: 140vw !important; 
        
        aspect-ratio: 1 / 1; 
        border-radius: 50%;
        
        /* Impedisce schiacciamento */
        flex-shrink: 0; 
        
        /* Margini per scroll verticale */
        margin-top: 2rem;
        margin-bottom: 2rem;
        
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
    }

    /* Stringiamo il contenuto per tenerlo al centro visibile */
    .home-container.giant-circle form {
        width: 60%; 
        height: auto;
        gap: 0.8rem;
        margin-bottom: 0;
    }
    
    /* Titolo */
    .home-container.giant-circle h3 {
        margin-top: 10%; 
        margin-bottom: 0rem;
        font-size: 1.8rem;
    }
    
    .form-group {
        width: 90%; 
        gap: 0.2rem;
    }

    .home-container input[type="text"],
    .home-container select {
        padding: 12px;
        font-size: 0.8rem;
    }
    
    .btn {
        padding: 11px 25px;
    }
}